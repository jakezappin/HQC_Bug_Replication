{"question": "\nI have installed boto3, aws cli, and python-braket-sdk. I have run aws configure, and config with my IAM user. My IAM user isn't root user, but it has AdministratorAccess, AmazonBraketFullAccess, AmazonBraketJobsExecutionPolicy policies.\nBut if I tried to get some quantum device by this command:aws braket get-device --device-arn arn:aws:braket:::device/qpu/ionq/ionQdevice, it always return this error:\nAn error occurred (AccessDeniedException) when calling the GetDevice operation: User: arn:aws:iam::178363055402:user/hblab-rnd is not authorized to perform: braket:GetDevice on resource: arn:aws:braket::178363055402:device/qpu/ionq/ionQdevice with an explicit deny\nIf I run same below python from this link: https://github.com/aws/amazon-braket-sdk-python#usage, it also return similar error:\nimport boto3\nfrom braket.aws import AwsDevice\nfrom braket.circuits import Circuit\ndevice = AwsDevice(\"arn:aws:braket:::device/quantum-simulator/amazon/sv1\")\nbell = Circuit().h(0).cnot(0, 1)\ntask = device.run(bell, shots=100)\nprint(task.result().measurement_counts)\n\nError output:\nAccessDeniedException: An error occurred (AccessDeniedException) when calling the GetDevice \noperation: User: arn:aws:iam::178363055402:user/hblab-rnd is not authorized to perform: \nbraket:GetDevice on resource: arn:aws:braket::178363055402:device/quantum-simulator/amazon/sv1 \nwith an explicit deny\n\nI have already added permissions for Braket, but I can not figure the reason for this bug. Please help\nSystem information\n\naws cli: aws-cli/2.7.11 Python/3.9.11 Windows/10 exe/AMD64 prompt/off\nAmazon Braket Python SDK version: 1.25.2\nAmazon Braket schemas: 1.10.0\nAmazon Braket default simulator: 1.6.2\nPython version: 3.8.13\n\n", "answers": ["\nI wasn't able to reproduce this at my end looks like something incorrect with IAM configuration. Can you try using the command rm -rf .aws to remove the current credentials and then performing the aws configure command once more with a new access ID and key for the same user with attached policies?\nAnd then try running aws braket get-device --device-arn arn:aws:braket:::device/qpu/ionq/ionQdevice. Also make sure to set Default region name as us-east-1 before running this command.\n", "\nI have found the answer. I have activated MFA authorization on my account, but in my aws cli, I don't setup it. So I need to setup my aws cli by a new account without MFA, or set up MFA for my aws cli. Thank you everyone for help\n"], "comments": [], "link": "https://quantumcomputing.stackexchange.com//questions/27115/aws-braket-python-sdk-user-is-not-authorized-to-perform-on-quantum-device?r=SearchResults"}