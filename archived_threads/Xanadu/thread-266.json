{"0": {"author": "Den", "date": "1695452809702", "content": "I copied and pasted the data.load code from the N2H2 page (N2H2 Molecule 1) and got an error message when executing it (code below). Am I missing something?\nimport pennylane as qml\nfrom pennylane import numpy as np\nqml.data.load(\"qchem\", molname=\"N2H2\", bondlength=1.247, basis=\"STO-3G\")\n\nThe error message is below.\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\nInput In [18], in <cell line: 1>()\n----> 1 qml.data.load(\"qchem\", molname=\"N2H2\", bondlength=1.247, basis=\"STO-3G\")\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/data_manager.py:272, in load(data_name, attributes, lazy, folder_path, force, num_threads, **params)\n    269 for folder in all_folders:\n    270     real_folder = os.path.join(directory_path, data_name, folder)\n    271     data_files.append(\n--> 272         Dataset(data_name, real_folder, folder.replace(pathsep, \"_\"), docstring, standard=True)\n    273     )\n    275 return data_files\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/dataset.py:148, in Dataset.__init__(self, standard, *args, **kwargs)\n    146             raise ValueError(f\"Expected {name} to be a str, got {type(val).__name__}\")\n    147     self._is_standard = True\n--> 148     self.__std_init__(*args)\n    149 else:\n    150     self._is_standard = False\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/dataset.py:122, in Dataset.__std_init__(self, data_name, folder, attr_prefix, docstring)\n    120 self._fullfile = prefix.format(\"full\")\n    121 if os.path.exists(self._fullfile):\n--> 122     self.read(self._fullfile, lazy=True)\n    123 else:\n    124     self._fullfile = None\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/dataset.py:206, in Dataset.read(self, filepath, lazy, assign_to)\n    183 def read(self, filepath, lazy=False, assign_to=None):\n    184     \"\"\"Loads data from a saved file to the current dataset.\n    185 \n    186     Args:\n   (...)\n    204     tensor([1, 1, 0, 0], requires_grad=True)\n    205     \"\"\"\n--> 206     data = self._read_file(filepath)\n    207     file_contains_dataset = True\n    208     if assign_to is not None:\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/dataset.py:181, in Dataset._read_file(filepath)\n    179 zstd, dill = _import_zstd_dill()\n    180 depressed_pickle = zstd.decompress(compressed_pickle)\n--> 181 return dill.loads(depressed_pickle)\n\nFile /usr/local/lib/python3.8/site-packages/dill/_dill.py:327, in loads(str, ignore, **kwds)\n    316 \"\"\"\n    317 Unpickle an object from a string.\n    318 \n   (...)\n    324 Default values for keyword arguments can be set in :mod:`dill.settings`.\n    325 \"\"\"\n    326 file = StringIO(str)\n--> 327 return load(file, ignore, **kwds)\n\nFile /usr/local/lib/python3.8/site-packages/dill/_dill.py:313, in load(file, ignore, **kwds)\n    307 def load(file, ignore=None, **kwds):\n    308     \"\"\"\n    309     Unpickle an object from a file.\n    310 \n    311     See :func:`loads` for keyword arguments.\n    312     \"\"\"\n--> 313     return Unpickler(file, ignore=ignore, **kwds).load()\n\nFile /usr/local/lib/python3.8/site-packages/dill/_dill.py:525, in Unpickler.load(self)\n    524 def load(self): #NOTE: if settings change, need to update attributes\n--> 525     obj = StockUnpickler.load(self)\n    526     if type(obj).__module__ == getattr(_main_module, '__name__', '__main__'):\n    527         if not self._ignore:\n    528             # point obj class to main\n\nFile /usr/local/lib/python3.8/site-packages/dill/_dill.py:661, in _create_code(*args)\n    659     if len(args) == 16: return CodeType(*args)\n    660     elif len(args) == 15: return CodeType(args[0], 0, *args[1:])\n--> 661     return CodeType(args[0], 0, 0, *args[1:])\n    662 elif hasattr(CodeType, 'co_kwonlyargcount'):\n    663     if len(args) == 16: return CodeType(args[0], *args[2:])\n\nTypeError: code() takes at most 16 arguments (19 given)\n\nAnd, finally, make sure to include the versions of your packages. Specifically, show us the output of qml.about().", "link": "https://discuss.pennylane.ai//t/error-message-when-using-pennylane-molecular-dataset/3466/1"}, "1": {"author": "Ivana_at_Xanadu", "date": "1695730784089", "content": "Hey @Den , I retraced your steps here and I\u2019m not getting the same error. \nDid you include the full code you were running?\nIt might also be helpful to include the output of qml.about(). ", "link": "https://discuss.pennylane.ai//t/error-message-when-using-pennylane-molecular-dataset/3466/2"}, "2": {"author": "whatsis", "date": "1695837895549", "content": "Hey @Den, from the error message, it looks like you\u2019re using an old version of PennyLane, which used zstd and dill. Please upgrade your PennyLane package, delete any existing dataset files/folders and let me know if the error message persists. 1", "link": "https://discuss.pennylane.ai//t/error-message-when-using-pennylane-molecular-dataset/3466/3"}, "3": {"author": "Den", "date": "1695452809702", "content": "I copied and pasted the data.load code from the N2H2 page (N2H2 Molecule 1) and got an error message when executing it (code below). Am I missing something?\nimport pennylane as qml\nfrom pennylane import numpy as np\nqml.data.load(\"qchem\", molname=\"N2H2\", bondlength=1.247, basis=\"STO-3G\")\n\nThe error message is below.\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\nInput In [18], in <cell line: 1>()\n----> 1 qml.data.load(\"qchem\", molname=\"N2H2\", bondlength=1.247, basis=\"STO-3G\")\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/data_manager.py:272, in load(data_name, attributes, lazy, folder_path, force, num_threads, **params)\n    269 for folder in all_folders:\n    270     real_folder = os.path.join(directory_path, data_name, folder)\n    271     data_files.append(\n--> 272         Dataset(data_name, real_folder, folder.replace(pathsep, \"_\"), docstring, standard=True)\n    273     )\n    275 return data_files\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/dataset.py:148, in Dataset.__init__(self, standard, *args, **kwargs)\n    146             raise ValueError(f\"Expected {name} to be a str, got {type(val).__name__}\")\n    147     self._is_standard = True\n--> 148     self.__std_init__(*args)\n    149 else:\n    150     self._is_standard = False\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/dataset.py:122, in Dataset.__std_init__(self, data_name, folder, attr_prefix, docstring)\n    120 self._fullfile = prefix.format(\"full\")\n    121 if os.path.exists(self._fullfile):\n--> 122     self.read(self._fullfile, lazy=True)\n    123 else:\n    124     self._fullfile = None\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/dataset.py:206, in Dataset.read(self, filepath, lazy, assign_to)\n    183 def read(self, filepath, lazy=False, assign_to=None):\n    184     \"\"\"Loads data from a saved file to the current dataset.\n    185 \n    186     Args:\n   (...)\n    204     tensor([1, 1, 0, 0], requires_grad=True)\n    205     \"\"\"\n--> 206     data = self._read_file(filepath)\n    207     file_contains_dataset = True\n    208     if assign_to is not None:\n\nFile /usr/local/lib/python3.8/site-packages/pennylane/data/dataset.py:181, in Dataset._read_file(filepath)\n    179 zstd, dill = _import_zstd_dill()\n    180 depressed_pickle = zstd.decompress(compressed_pickle)\n--> 181 return dill.loads(depressed_pickle)\n\nFile /usr/local/lib/python3.8/site-packages/dill/_dill.py:327, in loads(str, ignore, **kwds)\n    316 \"\"\"\n    317 Unpickle an object from a string.\n    318 \n   (...)\n    324 Default values for keyword arguments can be set in :mod:`dill.settings`.\n    325 \"\"\"\n    326 file = StringIO(str)\n--> 327 return load(file, ignore, **kwds)\n\nFile /usr/local/lib/python3.8/site-packages/dill/_dill.py:313, in load(file, ignore, **kwds)\n    307 def load(file, ignore=None, **kwds):\n    308     \"\"\"\n    309     Unpickle an object from a file.\n    310 \n    311     See :func:`loads` for keyword arguments.\n    312     \"\"\"\n--> 313     return Unpickler(file, ignore=ignore, **kwds).load()\n\nFile /usr/local/lib/python3.8/site-packages/dill/_dill.py:525, in Unpickler.load(self)\n    524 def load(self): #NOTE: if settings change, need to update attributes\n--> 525     obj = StockUnpickler.load(self)\n    526     if type(obj).__module__ == getattr(_main_module, '__name__', '__main__'):\n    527         if not self._ignore:\n    528             # point obj class to main\n\nFile /usr/local/lib/python3.8/site-packages/dill/_dill.py:661, in _create_code(*args)\n    659     if len(args) == 16: return CodeType(*args)\n    660     elif len(args) == 15: return CodeType(args[0], 0, *args[1:])\n--> 661     return CodeType(args[0], 0, 0, *args[1:])\n    662 elif hasattr(CodeType, 'co_kwonlyargcount'):\n    663     if len(args) == 16: return CodeType(args[0], *args[2:])\n\nTypeError: code() takes at most 16 arguments (19 given)\n\nAnd, finally, make sure to include the versions of your packages. Specifically, show us the output of qml.about().", "link": "https://discuss.pennylane.ai//t/error-message-when-using-pennylane-molecular-dataset/3466/4"}}