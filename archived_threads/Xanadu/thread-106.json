{"0": {"author": "strawberry_lane", "date": "1624903171575", "content": "I have circuit in qiskit that I want to optimize in Penny Lane. Using load function (https://pennylane.readthedocs.io/en/stable/code/api/pennylane.load.html 4) I get error AttributeError: \u2018ArrayBox\u2019 object has no attribute \u2018items\u2019\nWhat is the problem?\nqc = qiskit.QuantumCircuit(2)\ntheta = Parameter(\u201c\u03b8\u201d)\nqc.rz(theta, [0])\nqc.cx(0, 1)\nmy_circuit = qml.load(qc, format=\u2018qiskit\u2019)\ntheta_train = 0.4\nopt = qml.GradientDescentOptimizer()\nfor i in range(1000):\ntheta_train = opt.step(my_circuit, theta_train)\nif i % 100 == 0:\nprint(\u201cCost\u201d, my_circuit(theta_train))\n\n\n Solved by CatalinaAlbornoz in post #4 \n\n\n                Hi @strawberry_lane! \nThis often happens to me too. When you copy and paste code some characters can get pasted in the wrong format. In this case the quotation marks are tilted instead of straight, so they are not in the correct format for python to read. Thus, it understands them as an invalid char\u2026\n              \n", "link": "https://discuss.pennylane.ai//t/train-qiskit-circuit/1169/1"}, "1": {"author": "CatalinaAlbornoz", "date": "1625425997792", "content": "Hi @strawberry_lane! I was able to replicate your error and found that the main problem is that my_circuit is actually not yet a real circuit. It\u2019s only yet a template. You can read more about templates here https://pennylane.readthedocs.io/en/stable/introduction/templates.html 1\nIn order for you to use it in the GradientDescentOptimizer you need to include your template in a QNode. For this you need to do the following steps\n1 - Create a device.\n2 - Use the @qml decorator to create the qnode.\n3 - Define a function (the actual circuit) just below the qnode line. This function takes a parameter x.\n4 - Define your my_circuit template inside the function. Make sure to assign the parameter theta to the input x of the function as a dictionary.\nThe rest stays the way you have it. The following would be the finished code.\n#------------\nqc = qiskit.QuantumCircuit(2)\ntheta = Parameter(\u201c\u03b8\u201d)\nqc.rz(theta, [0])\nqc.cx(0, 1)\nmy_circuit = qml.load(qc, format=\u2018qiskit\u2019)\ndev = qml.device(\u2018default.qubit\u2019, wires=2)\n@qml.qnode(dev)\ndef circuit(x):\nmy_circuit(params={theta: x},wires=(1, 0))\nreturn qml.expval(qml.PauliZ(0))\ntheta_train = 0.4\nopt = qml.GradientDescentOptimizer()\nfor i in range(1000):\ntheta_train = opt.step(circuit, theta_train)\nif i % 100 == 0:\nprint(\u201cCost\u201d, circuit(theta_train))\n#----------\nTake into account that the cost is always 1 in this case because your qubit starts in 0 and you\u2019re only rotating it around the Z axis which keeps it at zero. If you change the rotation to be around the X axis you will be able to see the optimization.\nPlease let me know if this helped!", "link": "https://discuss.pennylane.ai//t/train-qiskit-circuit/1169/2"}, "2": {"author": "strawberry_lane", "date": "1625516850958", "content": "thanks @CatalinaAlbornoz.\nI have tried to copy your code and get strange error\nFile \u201c\u201d, line 2\ntheta = Parameter(\u201c\u03b8\u201d)\n^\nSyntaxError: invalid character in identifier\nI have put tabs for indented lines but still no luck.", "link": "https://discuss.pennylane.ai//t/train-qiskit-circuit/1169/3"}, "3": {"author": "CatalinaAlbornoz", "date": "1625579282128", "content": "Hi @strawberry_lane!\nThis often happens to me too. When you copy and paste code some characters can get pasted in the wrong format. In this case the quotation marks are tilted instead of straight, so they are not in the correct format for python to read. Thus, it understands them as an invalid character.\nThe solution is easy. You just need to erase the quotation marks and write them yourself. This way they will be in the correct format.\nMake sure you change both the double and the single quotation marks in lines 2, 7, 9 and 23.\nPlease let me know if this works for you!Solution", "link": "https://discuss.pennylane.ai//t/train-qiskit-circuit/1169/4"}, "4": {"author": "strawberry_lane", "date": "1625602796690", "content": "thanks @CatalinaAlbornoz.\nI have managed to get it working by editing quotation marks. Your suggestion to use qc.rx gate is also useful.", "link": "https://discuss.pennylane.ai//t/train-qiskit-circuit/1169/5"}, "5": {"author": "CatalinaAlbornoz", "date": "1625603040451", "content": "Hi @strawberry_lane. You\u2019re welcome! I\u2019m glad I could help. Don\u2019t hesitate to ask any other question you might have. And enjoy using PennyLane!", "link": "https://discuss.pennylane.ai//t/train-qiskit-circuit/1169/6"}, "6": {"author": "strawberry_lane", "date": "1624903171575", "content": "I have circuit in qiskit that I want to optimize in Penny Lane. Using load function (https://pennylane.readthedocs.io/en/stable/code/api/pennylane.load.html 4) I get error AttributeError: \u2018ArrayBox\u2019 object has no attribute \u2018items\u2019\nWhat is the problem?\nqc = qiskit.QuantumCircuit(2)\ntheta = Parameter(\u201c\u03b8\u201d)\nqc.rz(theta, [0])\nqc.cx(0, 1)\nmy_circuit = qml.load(qc, format=\u2018qiskit\u2019)\ntheta_train = 0.4\nopt = qml.GradientDescentOptimizer()\nfor i in range(1000):\ntheta_train = opt.step(my_circuit, theta_train)\nif i % 100 == 0:\nprint(\u201cCost\u201d, my_circuit(theta_train))\n\n\n Solved by CatalinaAlbornoz in post #4 \n\n\n                Hi @strawberry_lane! \nThis often happens to me too. When you copy and paste code some characters can get pasted in the wrong format. In this case the quotation marks are tilted instead of straight, so they are not in the correct format for python to read. Thus, it understands them as an invalid char\u2026\n              \n", "link": "https://discuss.pennylane.ai//t/train-qiskit-circuit/1169/7"}}