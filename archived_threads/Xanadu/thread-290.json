{"0": {"author": "JEEVARATHINAM", "date": "1645523912863", "content": "Hi,@tom Bromley\nAs discussed in below chat I have done the rectification step you had said.\n\n\n\n\nFraud Detection code using Strawberryfields PennyLane Strawberry Fields\n\n\n    Hi @Satanik_Mitra! \n\nWhy 10 features are chosen from the dataset, why can\u2019t we choose 14 instead? \n\nI believe we just used 10 to keep things manageable, and it may well work if you increase to 14 features. In fact, the original dataset has 28 features, so you could include all of those as long as you ensure there are 14 features input into the quantum part of the network. \nHowever, bear in mind that the 28 features are a result of a PCA, and (this needs to be double checked) the features are ord\u2026\n  \n\nBut I am getting error in extracting the state\nWhile giving\nKet = state.ket()\nI m getting error like\n\u201cResult object has no attribute ket\u201d\nCan you pls help me for this issue\u2026\nI\u2019m using the current version of strawberry fields.\nHere in I\u2019m attaching the Google Collab which I m using\u2026\nFeel free to edit\n\n\n\ncolab.research.google.com\n\n\n\nGoogle Colaboratory 4\n\n\n\n\n\n", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/1"}, "1": {"author": "CatalinaAlbornoz", "date": "1645581165361", "content": "Hi @JEEVARATHINAM, welcome to the forum!\nYou\u2019re getting this error because you haven\u2019t actually extracted the state. This is how you can extract the state.\nresult = eng.run(prog)\nstate = result.state\n\nAfter you do this then you can use state.ket()\nYou can learn more about states here 1 in the docs.\nLet me know if this solves your problem!", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/2"}, "2": {"author": "JEEVARATHINAM", "date": "1645586707711", "content": "Now also I m getting error in next step\n#Building up the function to minimize by looping through batch\n\nfor i in range(batch_size):\n    # Probabilities corresponding to a single photon in either mode\n    prob = tf.abs(ket[i, classification[i, 0], classification[i, 1]]) ** 2\n\nIn second line prob = I m getting error\nIt shows error like FockstateTf  object is not subscriptable.\nI m trying to run this code in current version\u2026pls help\u2026\nhttps://drive.google.com/folderview?id=1QvRJfoPR_ponJshQcuk3NVurEa24uFQa\n\nThis drive consist of files. You can use it work\nPls use  the Colab notebook in the previous post\nFeel free to edit\nThanks!\nLooking forward to your support", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/3"}, "3": {"author": "CatalinaAlbornoz", "date": "1645653463361", "content": "Hi @JEEVARATHINAM, I think the problem is that you\u2019re trying to extract information from \u201cket\u201d in an invalid way: ket[i, classification[i, 0], classification[i, 1]])\nHave you tried using state.fock_prob() to get the probabilities you need? I\u2019m not sure if this will do what you\u2019re looking for but it may help. You can read more about it here 1.\nPlease let me know if this helps!", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/4"}, "4": {"author": "JEEVARATHINAM", "date": "1645664744635", "content": "Hi,\nI tried using fock_prob()\n#extract the state\nKet = state.fock_prob()\nIt shows me error like.\n\"Result object has no attribute \u2018fock_prob\u2019\nI\u2019m trying to create solution for past three days.pls help\nI also updated in google colab link in the first post pls check that too\nThanks!\nLooking forward to your support @CatalinaAlbornoz @Maria_Schuld", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/5"}, "5": {"author": "CatalinaAlbornoz", "date": "1645735143016", "content": "Hi @JEEVARATHINAM,\nI built this minimum working example which may help you move forward with your project\nimport strawberryfields as sf\nmode_number=2\nprog = sf.Program(mode_number)\n\nwith prog.context as q:\n    sf.ops.Sgate(0.54) | q[0]\n    sf.ops.Sgate(0.54) | q[1]\n    sf.ops.BSgate(0.43, 0.1) | (q[0], q[1])\n\neng = sf.Engine(backend=\"fock\", backend_options={\"cutoff_dim\": 5})\nresult = eng.run(prog)\nstate = result.state\nprob=state.fock_prob([0, 0])\nprint(prob)\n\nAs you can see in this example eng.run(prog) produces a result, and from that result you can extract the state. You can find a similar example here 1.\nIn your code you\u2019re trying to extract the probabilities from the result instead of the state so this will cause an error.\nOn the other hand, if you look at the documentation for fock_prob you will notice that you need to input a parameter n.\n\" n  ( Sequence [ int ] ) \u2013 the Fock state |\u2192n\u27e9|n\u2192\u27e9 that we want to measure the probability of\"\nIn my example, n is [0,0].\nFinally, you will notice that I changed the backend to \u201cfock\u201d. You can use \u201ctf\u201d as a backend but you may get some warnings about how you installed it.\nI hope this helps you!", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/6"}, "6": {"author": "JEEVARATHINAM", "date": "1645799581603", "content": "still i am getting error in same line\n# Building up the function to minimize by looping through batch\n\nfor i in range(batch_size):\n\n    # Probabilities corresponding to a single photon in either mode\n\n    prob = tf.abs(prob[i, classification[i, 0], classification[i, 1]]) ** 2\n\n\ni m getting error in prob=\nthe error is:\nIndexError: invalid index to scalar variable.\n\nkindly check the colab link\nhttps://colab.research.google.com/drive/1PJAT-RXhvsZaX4tOSvvNPTxL8qK4uA0o#scrollTo=bsZUIMtus1BM 3\nthanks!\npls support.", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/7"}, "7": {"author": "CatalinaAlbornoz", "date": "1645826692339", "content": "Hi @JEEVARATHINAM, as you can see in the previous cell, \u201cprob\u201d is a scalar number. This means that prob[a,b,c] is invalid because it\u2019s a single number, not a list.\nI hope this helps!", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/8"}, "8": {"author": "JEEVARATHINAM", "date": "1645834170448", "content": "Hi,\nYes you are correct. In such case how we are going to proceed with code.\nCan you please help me on that\nThanks!", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/9"}, "9": {"author": "CatalinaAlbornoz", "date": "1646102304069", "content": "Hi @JEEVARATHINAM,\nI\u2019m not sure what you want to do. fock_prob gives you the probability of a specific fock state so you have to decide what you want to do with that information, and even decide whether or not that\u2019s the information you need.", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/10"}, "10": {"author": "JEEVARATHINAM", "date": "1646839186221", "content": "Thanks for your response\ncode worked", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/11"}, "11": {"author": "CatalinaAlbornoz", "date": "1646845701460", "content": "I\u2019m glad it worked @JEEVARATHINAM!", "link": "https://discuss.pennylane.ai//t/error-in-quantumn-neural-network-code-fraud-detection-code/1693/12"}}