{"0": {"author": "Kuma-quant", "date": "1635173228485", "content": "I want to visualize a pennylane circuit in latex rather than ascii.\nAltough `penny-qiskit\" plugin can do it, measurement operations were mixed with gate operations.\nn_qubits = 6\ndev_qiskit = qml.device(\"qiskit.aer\", wires=n_qubits)\n\n@qml.qnode(dev_qiskit)\ndef f(x):\n    qml.RX(x, wires=0)\n    qml.RZ(x, wires=0)\n    qml.RZ(x, wires=2)\n    qml.RZ(x, wires=4)    \n    qml.CNOT(wires=[0,1])\n    return qml.expval(qml.PauliZ(0))\n\nf(0.3)\n\ndev_qiskit._circuit.draw('mpl')\n\n\nThis image is very complicated!\nI expect the followring result.\n\nThis image was generated by qiskit and its barrier function.\nfrom qiskit import QuantumCircuit\nn_qubits = 6\ncirc = QuantumCircuit(n_qubits)\ncirc.rx(0.3,0)\ncirc.barrier()\ncirc.rz(0.3,0)\ncirc.rz(0.3,2)\ncirc.rz(0.3,4)\ncirc.barrier()\ncirc.cnot(0,1)\ncirc.measure_all()\ncirc.draw('mpl')\n\nI want to generate same image with using pennylane-qiskit.\nBecause, I\u2019m a pennylane-lover.\nIs it possible?", "link": "https://discuss.pennylane.ai//t/can-i-use-barrier-gates-in-pennylane-qiskit-plugin/1439/1"}, "1": {"author": "CatalinaAlbornoz", "date": "1635183351014", "content": "Hi @Kuma-quant, I agree that it would be ideal to have a barrier gate but there isn\u2019t one yet. There\u2019s actually an open issue 10 on this subject so if you\u2019re interested you could work on this.\nOne workaround that you could do is use our new circuit_drawer, which will actually be default from the next PennyLane release. This drawer allows you to customize the look of your circuit and add things such as lines (like a barrier).\nHere\u2019s an example of how you can use this drawer.\nfrom pennylane.circuit_drawer import MPLDrawer\nimport matplotlib.pyplot as plt\nfrom matplotlib.patches import FancyArrow\n\ndrawer = MPLDrawer(n_wires=2, n_layers=5)\ndrawer.label([r\"$|0\\rangle$\", r\"$|\\theta\\rangle$\"])\ndrawer.box_gate(layer=0, wires=(0,1), text=\"CRX\")\ndrawer.CNOT(layer=2, wires=(0,1))\ndrawer.ctrl(layer=3, wires=0, wires_target=1)\ndrawer.box_gate(layer=3, wires=1, text=\"Y\")\ndrawer.SWAP(layer=4, wires=(0,1))\n\ndrawer.measure(layer=5, wires=0)\ndrawer.measure(layer=5, wires=1)\n\nbarrier = FancyArrow(1,1.5,0,-2, ls='--')\ndrawer.ax.add_patch(barrier)\n\nPlease let me know if this helps and if you have any further questions!", "link": "https://discuss.pennylane.ai//t/can-i-use-barrier-gates-in-pennylane-qiskit-plugin/1439/2"}, "2": {"author": "Kuma-quant", "date": "1636209410739", "content": "Thanks! I\u2019m looking forward to the next PennyLane release.", "link": "https://discuss.pennylane.ai//t/can-i-use-barrier-gates-in-pennylane-qiskit-plugin/1439/3"}, "3": {"author": "CatalinaAlbornoz", "date": "1636382590389", "content": "@Kuma-quant The next release is coming tomorrow!\nThe drawer however will not be default in v0.19 but in the next one. You can still use the drawer since v0.18 in the way I showed before. I know it requires some coding but it\u2019s useful that you can make your circuit look exactly the way you want.\nPlease let me know if you need any help in using the drawer or if you have any additional question!", "link": "https://discuss.pennylane.ai//t/can-i-use-barrier-gates-in-pennylane-qiskit-plugin/1439/4"}, "4": {"author": "Kuma-quant", "date": "1636469036785", "content": "I also expect the circuit drawer will be integrated with qnode.\nqml.circuit_drawer(my_qnode, output='mpl')\nThis is my dream!", "link": "https://discuss.pennylane.ai//t/can-i-use-barrier-gates-in-pennylane-qiskit-plugin/1439/5"}, "5": {"author": "CatalinaAlbornoz", "date": "1636487697226", "content": "Yes, as far as I know the goal is for it to be integrated from v0.20.0 so we\u2019ll just have to hang on a little more!", "link": "https://discuss.pennylane.ai//t/can-i-use-barrier-gates-in-pennylane-qiskit-plugin/1439/6"}, "6": {"author": "Kuma-quant", "date": "1635173228485", "content": "I want to visualize a pennylane circuit in latex rather than ascii.\nAltough `penny-qiskit\" plugin can do it, measurement operations were mixed with gate operations.\nn_qubits = 6\ndev_qiskit = qml.device(\"qiskit.aer\", wires=n_qubits)\n\n@qml.qnode(dev_qiskit)\ndef f(x):\n    qml.RX(x, wires=0)\n    qml.RZ(x, wires=0)\n    qml.RZ(x, wires=2)\n    qml.RZ(x, wires=4)    \n    qml.CNOT(wires=[0,1])\n    return qml.expval(qml.PauliZ(0))\n\nf(0.3)\n\ndev_qiskit._circuit.draw('mpl')\n\n\nThis image is very complicated!\nI expect the followring result.\n\nThis image was generated by qiskit and its barrier function.\nfrom qiskit import QuantumCircuit\nn_qubits = 6\ncirc = QuantumCircuit(n_qubits)\ncirc.rx(0.3,0)\ncirc.barrier()\ncirc.rz(0.3,0)\ncirc.rz(0.3,2)\ncirc.rz(0.3,4)\ncirc.barrier()\ncirc.cnot(0,1)\ncirc.measure_all()\ncirc.draw('mpl')\n\nI want to generate same image with using pennylane-qiskit.\nBecause, I\u2019m a pennylane-lover.\nIs it possible?", "link": "https://discuss.pennylane.ai//t/can-i-use-barrier-gates-in-pennylane-qiskit-plugin/1439/7"}}