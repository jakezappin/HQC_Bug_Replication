{"0": {"author": "Lakshika_Rathi", "date": "1657019947719", "content": "\nimage1591\u00d7882 78.5 KB\n\nHey!\nI was trying to add CRX gates in the middle of a circuit considering the upper half as the target qubits and the lower half as the control qubits. (so in a circuit of 12 qubits, the CRX gates are between 0th and 6th qubit, 1st and 7th qubit, etc).\nThis throws up an error that the tensors in the stack are of unequal sizes. May you help me debug the same?\nThanks!", "link": "https://discuss.pennylane.ai//t/error-adding-crx-gates/2019/1"}, "1": {"author": "CatalinaAlbornoz", "date": "1657061472820", "content": "Hi @Lakshika_Rathi, welcome to the forum!\nI think you have an error somewhere in your code.\nI\u2019ve created a small example that works. Here I\u2019ve used the broadcast function from PennyLane which makes your life much easier.\n# import your favourite libraries\nimport pennylane as qml\nfrom pennylane import numpy as np\n\n# define the number of wires\nn_wires = 12\n\n# define your device\ndev = qml.device('default.qubit',wires=n_wires)\n\n# define the pattern for your broadcast function\npattern = [[i+6,i] for i in range(6)]\n\n# create a qnode\n@qml.qnode(dev)\ndef circuit(pars):\n    # use a broadcast function for ease of use\n    qml.broadcast(unitary=qml.CRX, pattern=pattern,\n              wires=range(n_wires), parameters=pars)\n    # make a measurement\n    return qml.expval(qml.PauliZ(0))\n\n# create your parameters with the correct size\npars = np.random.random(len(pattern))\n\n# view your circuit!\nqml.draw_mpl(circuit,decimals=1)(pars)\n\nPlease let me know if you have any questions about using broadcast or any other questions in fact.\nAlso please let me know if this helps solve your problem!\nIf this doesn\u2019t solve your problem please share your full code \nI hope this helps!", "link": "https://discuss.pennylane.ai//t/error-adding-crx-gates/2019/2"}, "2": {"author": "Lakshika_Rathi", "date": "1657019947719", "content": "\nimage1591\u00d7882 78.5 KB\n\nHey!\nI was trying to add CRX gates in the middle of a circuit considering the upper half as the target qubits and the lower half as the control qubits. (so in a circuit of 12 qubits, the CRX gates are between 0th and 6th qubit, 1st and 7th qubit, etc).\nThis throws up an error that the tensors in the stack are of unequal sizes. May you help me debug the same?\nThanks!", "link": "https://discuss.pennylane.ai//t/error-adding-crx-gates/2019/3"}}