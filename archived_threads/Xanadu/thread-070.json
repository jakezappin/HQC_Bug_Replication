{"0": {"author": "_risto", "date": "1636832030431", "content": "Hello.\nI have updated pennylane, but it still shows I have the 0.18 version instead of 0.19.\nWhen using dev = qml.device(\u201clightning.qubit\u201d, wires=10)\nwhy do I get:\nDeviceError: Device does not exist. Make sure the required plugin is installed.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/1"}, "1": {"author": "josh", "date": "1636898014490", "content": "Hi @_risto! Are you running pip install pennylane --upgrade? What operating system and Python version are you using?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/2"}, "2": {"author": "_risto", "date": "1636946430451", "content": "Hi @josh\nPython 3.7.7 and Windows 11.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/3"}, "3": {"author": "CatalinaAlbornoz", "date": "1637020586351", "content": "Hi @_risto, if you use pip install pennylane --upgrade and then pip show pennylane, what do you get?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/4"}, "4": {"author": "_risto", "date": "1637038620640", "content": "Hi @CatalinaAlbornoz I got it working now. 1 Reply1", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/5"}, "5": {"author": "CatalinaAlbornoz", "date": "1637072223011", "content": "I\u2019m glad to hear @_risto!", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/6"}, "6": {"author": "_risto", "date": "1637099059711", "content": "Can I add a question? \nAfter using lightning_qubit (dev = qml.device(\u201clightning.qubit\u201d, wires=10)) in quantum transfer tutorial, I get:  WireError: Wire with label 10 not found in <Wires = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]>.\nI have read on number of threads there is a bug, but I can\u2019t seem to fix it.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/7"}, "7": {"author": "CatalinaAlbornoz", "date": "1637104779289", "content": "Hi @_risto!\nIt sounds like somewhere in your code you have written \u201cwires=10\u201d but since wire numbering starts at 0 then the last wire is \u201cwires=9\u201d.\nIs this the case?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/8"}, "8": {"author": "_risto", "date": "1637104860833", "content": "Hi @CatalinaAlbornoz\nYes, that is correct.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/9"}, "9": {"author": "CatalinaAlbornoz", "date": "1637107376452", "content": "Oh good @_risto I\u2019m glad we found the cause and solution  .", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/10"}, "10": {"author": "_risto", "date": "1637172806886", "content": "Yes, I just copy pasted the https://pennylane.ai/blog/2021/09/pennylane-v018-released/ 2\nHowever, no matter the number of wires, I always get this error. Should i delete the wire=10 argument?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/11"}, "11": {"author": "CatalinaAlbornoz", "date": "1637177413898", "content": "Hi @_risto, the problem doesn\u2019t seem to be in the definition of the device but later. Could you copy the full code you\u2019re using?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/12"}, "12": {"author": "_risto", "date": "1637181478433", "content": "hi @CatalinaAlbornoz\nIt is the same as quantum transfer learning tutorial, I just changed the \u201cdev\u201d.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/13"}, "13": {"author": "antalszava", "date": "1637251951614", "content": "Hi @_risto\nI\u2019m a little confused, could you help with your exact steps? Changing the line you mention here from\ndev = qml.device(\"default.qubit\", wires=n_qubits)\n\nto\ndev = qml.device(\"lightning.qubit\", wires=n_qubits)\n\nworks well. The number of qubits, however, is specified earlier in the demonstration here.\nChanging that line to\nn_qubits = 10                # Number of qubits\n\nexecutes well too.\nCould you confirm that these were the changes you\u2019ve made?\nIf the error persists, feel free to share the exact code you run into errors with. ", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/14"}, "14": {"author": "_risto", "date": "1637254639109", "content": "Hi @antalszava\nAfter clearing caches from my laptop it works. Before I used your suggestion, but still got error.\nIs lightning.qubit compatable with gpu usage?\nAs I run:\ndev = qml.device(\u201clightning.qubit\u201d, wires=n_qubits)\ndevice = torch.device(\u201ccuda:0\u201d if torch.cuda.is_available() else \u201ccpu\u201d)\nI don\u2019t see any GPU usage.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/15"}, "15": {"author": "CatalinaAlbornoz", "date": "1637264328373", "content": "I\u2019m glad you could fix it @_risto!\nCurrently lightning.qubit is not compatable with gpu usage. We are working on it though!", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/16"}, "16": {"author": "CHU_WENHAO", "date": "1654478909932", "content": "Hi, may I ask how you solved this problem since I get the same error?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/17"}, "17": {"author": "_risto", "date": "1654526594262", "content": "Hi @CHU_WENHAO\nUnfortunately I can\u2019t remember. It\u2019s been a while since I\u2019ve been working on that and currently can\u2019t even find the notebook.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/18"}, "18": {"author": "CatalinaAlbornoz", "date": "1654560145034", "content": "Hi @CHU_WENHAO and @_risto. We now have a lightning.gpu 1 device.\nYou can find a usage example here 4.\nThis may be what you\u2019re looking for. If it\u2019s not, then please feel free to let us know what is the problem you\u2019re having @CHU_WENHAO!", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/19"}, "19": {"author": "_risto", "date": "1656854703768", "content": "Hi @CatalinaAlbornoz\nWhen trying to install I get: RuntimeError: Unsupported \u2018Windows\u2019 platform\nIs lightning.gpu supported by Windows 11?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/20"}, "20": {"author": "CatalinaAlbornoz", "date": "1656974216872", "content": "Hi @_risto, yes you should be able to install it on Windows 11. Edit: Since cuQuantum only works on Linux, lightning.gpu can only be used on Linux.\nYou must have Python 3.7 or above and you also need to have installed the NVIDIA cuQuantum SDK.\nYou can install the PennyLane-Lightning-GPU plugin by using pip: pip install pennylane-lightning[gpu]\nYou can see more installation options here, although pip should be sufficient.\nNote that you do need to have access to an NVIDIA GPU in order to be able to use this device.\nPlease let me know if any of this helps resolve your problem or if it still persists!1 Reply", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/21"}, "21": {"author": "_risto", "date": "1656986621172", "content": "\n\n\n CatalinaAlbornoz:\n\ncuQuantum SDK\n\n\nimage1096\u00d7648 16.1 KB\nHow can PennyLane-Lightning-GPU be supported by windows, if there is no windows support for NVIDIA cuQuantum SDK?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/22"}, "22": {"author": "CatalinaAlbornoz", "date": "1657051162655", "content": "Hi @_risto, you\u2019re totally right.\npennylane-lightning[gpu] does in fact only work together with cuQuantum, which is in fact only supported on Linux.\nSorry for the inconvenience here!", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/23"}, "23": {"author": "mlxd", "date": "1657052448422", "content": "Hi @_risto\nYes, as there is no Windows support for cuQuantum, lightning.gpu will not natively work on a Windows machine directly.\nAs a potential workaround, we can offer some suggestions, though we are not able to provide support for this type of environment, so how effective this will be may vary:\n\n\nUsing WSL, a Windows user may access a Linux runtime on a Windows machine.\nNVIDIA and Windows provide some supports for a CUDA-capable WSL environment (see here 1 and here 1 for setup and configuration).\nThe above may allow your Windows machine to have access to a Linux runtime with CUDA, which may potentially allow installation and usage of a capable NVIDIA GPU with the lightning.gpu backend. You can create an environment and attempt to pip install as before, but within WSL.\n\n\nWe have no guarantees this will work, as lightning.gpu is strictly developed for Linux and HPC capable CUDA GPUs, but it may allow you to get the device working, provided your GPU is supported by the cuQuantum library. Feel free to let us know if the above works for you.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/24"}, "24": {"author": "_risto", "date": "1657459770230", "content": "Hi @CatalinaAlbornoz\nWhile running:\ndev = qml.device(\u201clightning.gpu\u201d, wires=22)\nI get:\nWARNING: INSUFFICIENT SUPPORT DETECTED FOR GPU DEVICE WITH lightning.gpu\n!!!          DEFAULTING TO CPU DEVICE lightning.qubit1 Reply", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/25"}, "25": {"author": "CatalinaAlbornoz", "date": "1657578345723", "content": "Hi @_risto,\nThank you for posting this error here.\nCould you please post the output of qml.about()?1 Reply", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/26"}, "26": {"author": "mlxd", "date": "1657660223594", "content": "Hi @_risto this error is reported normally if your CUDA installation is not correctly configured, or your device is not supported by the cuQuantum library. I would suggest first trying to install cuquantum explicitly with pip install cuquantum, and retrying the above through WSL. If there was any additional errors or warning reported please feel free to let us know.\nAlso, it is worth noting that cuQuantum expects a CUDA device with Volta or Ampere architectures (see https://docs.nvidia.com/cuda/cuquantum/custatevec/release_notes.html#custatevec-v0-0-1 2) and so may not run on consumer devices if that is the target.\nSince this is targeting an unsupported use-case of CUDA through WSL, we cannot guarantee this will work as expected.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/27"}, "27": {"author": "_risto", "date": "1657732428960", "content": "Hi @CatalinaAlbornoz\nThank you for your answer. What would be appropriate configuration instead of WSL? Dual-booting or VM?\nBest regards", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/28"}, "28": {"author": "CatalinaAlbornoz", "date": "1657842375227", "content": "Hi @_risto, I don\u2019t think you need either.\nWhat I can see in the NVIDIA docs is that WSL is supposed to help you avoid both options.\nAny thoughts on this @mlxd?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/29"}, "29": {"author": "mlxd", "date": "1657887030170", "content": "Hi @_risto, as @CatalinaAlbornoz says, assuming WSL works you should not need to explore using either of the other options. However, if it does not work, and assuming you have a GPU capable of working with cuQuantum (of Volta generation or newer), then the other option is a Linux installation (dual-booting as you have stated).\nWhile we cannot recommend going down this route, as it often requires a lot of steps to avoid any damage to your operating system (see here for more details), running Linux natively is the configuration we expect for using the GPU device.\nI should add, that the GPU device was written mostly for high-performance computing (HPC) systems, as well as cloud systems, rather than consumer grade GPU hardware, so if it is an option to instead make use of a HPC system with GPUs, or to avail of a cloud GPU instance, that would be the better (and preferred) option to running it locally.\nHope this helps.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/30"}, "30": {"author": "_risto", "date": "1657922160561", "content": "\n\n\n CatalinaAlbornoz:\n\nqml.about()\n\n\nHi @CatalinaAlbornoz\nSorry for the late reply:\nName: PennyLane\nVersion: 0.24.0\nSummary: PennyLane is a Python quantum machine learning library by Xanadu Inc.\nHome-page: GitHub - PennyLaneAI/pennylane: PennyLane is a cross-platform Python library for differentiable programming of quantum computers. Train a quantum computer the same way as a neural network.\nAuthor: None\nAuthor-email: None\nLicense: Apache License 2.0\nLocation: /home/risto/.local/lib/python3.8/site-packages\nRequires: scipy, autoray, appdirs, retworkx, autograd, pennylane-lightning, toml, numpy, networkx, semantic-version, cachetools\nRequired-by: PennyLane-Lightning, PennyLane-Lightning-GPU\nPlatform info:           Linux-5.10.102.1-microsoft-standard-WSL2-x86_64-with-glibc2.29\nPython version:          3.8.10\nNumpy version:           1.23.1\nScipy version:           1.8.1\nInstalled devices:\n\ndefault.gaussian (PennyLane-0.24.0)\ndefault.mixed (PennyLane-0.24.0)\ndefault.qubit (PennyLane-0.24.0)\ndefault.qubit.autograd (PennyLane-0.24.0)\ndefault.qubit.jax (PennyLane-0.24.0)\ndefault.qubit.tf (PennyLane-0.24.0)\ndefault.qubit.torch (PennyLane-0.24.0)\nlightning.qubit (PennyLane-Lightning-0.24.0)\nlightning.gpu (PennyLane-Lightning-GPU-0.24.1)\n", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/31"}, "31": {"author": "CatalinaAlbornoz", "date": "1658176534573", "content": "Hi @_risto, thank you for sharing these details.\nAs @mlxd mentioned, it\u2019s possible that you\u2019re working with an unsupported GPU device.\nYou will need a GPU with Volta or Ampere architectures (see https://docs.nvidia.com/cuda/cuquantum/custatevec/release_notes.html#custatevec-v0-0-1  1).\nOne option to access supported machines is through Amazon Braket. You can learn more on the PennyLane blog 1 or the Amazon Braket blog 1.\nPlease let us know if this helps.", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/32"}, "32": {"author": "_risto", "date": "1658180579463", "content": "Hi @CatalinaAlbornoz\nI have RTX3060 laptop version, which is supported. Any other possible cause perhaps for the error?", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/33"}, "33": {"author": "CatalinaAlbornoz", "date": "1658188861139", "content": "Hi @_risto,\nThere are 2 additional suggestions:\n1 - Update the  LD_LIBRARY_PATH  environment variable as follows before running test.py:\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/complete/path/to/cuquantum-sdk/lib/\n\nWithout updating  LD_LIBRARY_PATH  , the lightning.gpu cannot figure out where the library exists and it switches to lightning.qubit instead \n2 - Double-check the commands used to build lightning.gpu. For example, building the library using  python setup.py  should be like the following:\npython setup.py build_ext --cuquantum=/path/to/cuquantum-sdk \npython setup.py install\n\nPlease let me know if this solves your problem!", "link": "https://discuss.pennylane.ai//t/pennylane-0-19-and-lightning-qbit/1479/34"}}